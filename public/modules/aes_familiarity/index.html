<link rel="stylesheet" type="text/css" href="toolCSS/plot.css" />
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<style>
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {

    border: 1px solid #dddddd;
    text-align: center;
    padding: 8px;
}

tr:nth-child(even) {
    background-color: #dddddd;
}


</style>
<div id="aes_comfort">
<!-- <img class="splom" src="images/splom_comfort.png" /> -->
<div class="w3-light-grey w3-round-xlarge">
  <div id="progressBar" class="w3-container w3-blue w3-round-xlarge w3-center"></div>
</div>

<div>
  <h2 class="placeholder">Familiarity</h2>
  <img <img class="pure-img" src="images/scatterplots/seaborn2.png" width=450px height=450px>
  <p>
    Pictured above is a <strong>multi-class scatterplot</strong> visualization. It compares two variables on the x and y axis respectively and encodes a third categorical variable as color. The legend for class colors can be found in the top-right corner.  </p>
</div>
<br>
<div id="comfort">Please indicate your comfort level with <strong>multi-class scatterplots</strong> by choosing the appropriate option below. Comfort levels are ordered from left to right by least comfortable to most comfortable.
    <div id="comfort"><br>
      <table class="pure-table-striped">
        <tr>
          <th>Very Uncomfortable</th>
          <th>Uncomfortable</th>
          <th>Somewhat Uncomfortable</th>
          <th>Neutral</th>
          <th>Somewhat Comfortable</th>
          <th>Comfortable</th>
          <th>Very Comfortable</th>
        </tr>
        <tr>
          <td><input type="radio" id="d1" name="comfort" value="1"></td>
          <td><input type="radio" id="d2" name="comfort" value="2"></td>
          <td><input type="radio" id="d3" name="comfort" value="3"></td>
          <td><input type="radio" id="d4" name="comfort" value="4"></td>
          <td><input type="radio" id="d5" name="comfort" value="5"></td>
          <td><input type="radio" id="d6" name="comfort" value="6"></td>
          <td><input type="radio" id="d7" name="comfort" value="7"></td>
        </tr>
      </table>
    </div>
</div>
<br><br>
<div id="usage">Please indicate how often you use scatterplots in your daily job.
    <div id="usage"><br>
      <table>
        <tr>
          <th>Never</th>
          <th>Once a year</th>
          <th>Once a month</th>
          <th>Once a week</th>
          <th>Daily</th>
        </tr>
        <tr>
          <td><input type="radio" id="d1" name="usage" value="Never"></td>
          <td><input type="radio" id="d2" name="usage" value="Year"></td>
          <td><input type="radio" id="d3" name="usage" value="Month"></td>
          <td><input type="radio" id="d4" name="usage" value="Week"></td>
          <td><input type="radio" id="d5" name="usage" value="Daily"></td>
        </tr>
      </table>

    </div>
</div>


<br><br>
<div id="tools"> Below is a list of tools that are used to visualize data. Please indicate your familiarity with each tool.<br>
    <br>
    <table>
      <tr>
        <th> Tool </th>
        <th> Not Familiar </th>
        <th> Slightly Familiar </th>
        <th> Moderately Familiar </th>
        <th> Very Familiar </th>
        <th> Extremely Familiar </th>
      </tr>
      <tr>
        <td> Excel </td>
        <td> <input type="radio" id="d1" name="exl" value="1"> </td>
        <td> <input type="radio" id="d2" name="exl" value="2"> </td>
        <td> <input type="radio" id="d3" name="exl" value="3"> </td>
        <td> <input type="radio" id="d4" name="exl" value="4"> </td>
        <td> <input type="radio" id="d5" name="exl" value="5"> </td>
      </tr>

      <tr>
        <td> Tableau </td>
        <td> <input type="radio" id="d1" name="tbl" value="1"> </td>
        <td> <input type="radio" id="d2" name="tbl" value="2"> </td>
        <td> <input type="radio" id="d3" name="tbl" value="3"> </td>
        <td> <input type="radio" id="d4" name="tbl" value="4"> </td>
        <td> <input type="radio" id="d5" name="tbl" value="5"> </td>
      </tr>

      <tr>
        <td> Matplotlib (Python) </td>
        <td> <input type="radio" id="d1" name="mpl" value="1"> </td>
        <td> <input type="radio" id="d2" name="mpl" value="2"> </td>
        <td> <input type="radio" id="d3" name="mpl" value="3"> </td>
        <td> <input type="radio" id="d4" name="mpl" value="4"> </td>
        <td> <input type="radio" id="d5" name="mpl" value="5"> </td>
      </tr>

      <tr>
        <td> ggplot2 (R) </td>
        <td> <input type="radio" id="d1" name="ggp" value="1"> </td>
        <td> <input type="radio" id="d2" name="ggp" value="2"> </td>
        <td> <input type="radio" id="d3" name="ggp" value="3"> </td>
        <td> <input type="radio" id="d4" name="ggp" value="4"> </td>
        <td> <input type="radio" id="d5" name="ggp" value="5"> </td>
      </tr>

      <tr>
        <td> Base R (no packages) </td>
        <td> <input type="radio" id="d1" name="baseR" value="1"> </td>
        <td> <input type="radio" id="d2" name="baseR" value="2"> </td>
        <td> <input type="radio" id="d3" name="baseR" value="3"> </td>
        <td> <input type="radio" id="d4" name="baseR" value="4"> </td>
        <td> <input type="radio" id="d5" name="baseR" value="5"> </td>
      </tr>
    </table>
</div>

<script>
(function() {

  // Updating question number
  var saved = experimentr.data();
  saved["curr_question"] += 1;
  progBar = document.getElementById('progressBar');
  progBar.style.width = String(Math.round((saved["curr_question"] / saved["total_questions"]) * 100)) + '%'
  progBar.innerHTML = String(Math.round((saved["curr_question"] / saved["total_questions"]) * 100)) + '%'

  var data = {};

  experimentr.startTimer('aes_familiarity');

  d3.selectAll('input')
  .filter(function(d) { return this.name === 'comfort' ? this : null; })
  .on('change', function() { data.comfort = this.value; validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 'usage' ? this : null; })
  .on('change', function() { data.usage = this.value; validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 'exl' ? this : null; })
  .on('change', function() { data.exlFam = this.value; validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 'tbl' ? this : null; })
  .on('change', function() { data.tblFam = this.value; validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 'mpl' ? this : null; })
  .on('change', function() { data.mplFam = this.value; validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 'ggp' ? this : null; })
  .on('change', function() { data.ggpFam = this.value; validate(); });

  d3.selectAll('input')
  .filter(function(d) { return this.name === 'baseR' ? this : null; })
  .on('change', function() { data.baseRFam = this.value; validate(); });

  function validate() {
	  if(data.comfort && data.usage && data.exlFam && data.tblFam && data.mplFam && data.ggpFam && data.baseRFam) {
	    experimentr.endTimer('aes_familiarity');
	    experimentr.addData(data);
	    experimentr.release();
	  } else{
      experimentr.hold();
    }
	}
}());
</script>
